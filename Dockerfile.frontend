# Dockerfile для Next.js фронтенда
FROM node:20-alpine

# Установка pnpm глобально
RUN npm install -g pnpm

# Рабочая директория
WORKDIR /app

# Копирование package.json и pnpm-lock.yaml
COPY package.json pnpm-lock.yaml ./

# Установка зависимостей
RUN pnpm install --frozen-lockfile

# Копирование остальных файлов проекта
COPY . ./

# Expose порта
EXPOSE 3000

# Запуск в dev режиме для локальной разработки
CMD ["pnpm", "dev"]
