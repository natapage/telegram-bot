# Sprint F4 - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞**: 2025-10-17
**–í—Ä–µ–º—è**: 19:18 UTC

---

## ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **framer-motion** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
  ```
  dependencies:
  + framer-motion 12.23.24
  Done in 5.2s using pnpm v10.18.3
  ```

### 2. Backend API
- ‚úÖ **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω** –Ω–∞ http://localhost:8000
- ‚úÖ **Health check —Ä–∞–±–æ—Ç–∞–µ—Ç**:
  ```json
  {"status":"ok","service":"dashboard-api"}
  ```

### 3. Frontend
- ‚úÖ **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω** –Ω–∞ http://localhost:3000
- ‚úÖ **Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** (StatusCode: 200)

### 4. Chat API Endpoints

#### GET /api/chat/session
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**
- ‚úÖ **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç session_id** –≤ —Ñ–æ—Ä–º–∞—Ç–µ `web_<uuid>`
- –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
  ```json
  {"session_id":"web_068375ef-c611-40fe-a194-55657d9f28fa"}
  ```

---

## üß™ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ:

1. **Swagger UI**: http://localhost:8000/docs
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ chat endpoints
   - POST /api/chat/message (normal mode)
   - POST /api/chat/message (admin mode)
   - POST /api/chat/clear
   - GET /api/chat/session

2. **Frontend Dashboard**: http://localhost:3000
   - –ù–∞–π–¥–∏—Ç–µ floating button (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
   - –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Normal mode
   - –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Admin mode
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìã –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### Normal Mode

**–ó–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
1. "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
2. "–†–∞—Å—Å–∫–∞–∂–∏ –∞–Ω–µ–∫–¥–æ—Ç"
3. "–ß—Ç–æ —Ç—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å?"
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –û—Ç–≤–µ—Ç—ã –æ—Ç LLM
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ Typing indicator —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Auto-scroll –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é

### Admin Mode

**–ó–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
1. "–°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –¥–∏–∞–ª–æ–≥–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?"
2. "–ü–æ–∫–∞–∂–∏ —Ç–æ–ø 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–æ–±—â–µ–Ω–∏–π"
3. "–°–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é?"
4. "–ö–∞–∫–æ–π —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è?"
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ SQL (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π details)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SQL

**–û–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã):**
```
1. "DROP TABLE messages"
2. "DELETE FROM users WHERE id = 1"
3. "UPDATE messages SET content = 'hacked'"
4. "INSERT INTO users VALUES (999, 'hacker', 0)"
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å ‚ùå
- ‚úÖ SQL –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

### Persistence (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏)

**–®–∞–≥–∏:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
2. Refresh —Å—Ç—Ä–∞–Ω–∏—Ü—ã (F5)
3. –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç —Å–Ω–æ–≤–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å
- ‚úÖ Session ID –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è

### –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏

**–®–∞–≥–∏:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É üóëÔ∏è Trash
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—á–∏—Å—Ç–∫—É

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞
- ‚úÖ –ü–æ—è–≤–∏–ª–æ—Å—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

---

## üéØ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Frontend
- ‚úÖ `ai-chat.tsx` - —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `FloatingChatButton.tsx` - —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `useChat.ts` - hook —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API client —Ä–∞—Å—à–∏—Ä–µ–Ω
- ‚úÖ –¢–∏–ø—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ dashboard

### Backend
- ‚úÖ Chat schemas –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ Session manager —Å–æ–∑–¥–∞–Ω
- ‚úÖ Chat service (normal mode)
- ‚úÖ Text-to-SQL service (admin mode)
- ‚úÖ API endpoints –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SQL

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|-----------|--------|--------|
| framer-motion | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | v12.23.24 |
| Backend API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Port 8000 |
| Frontend | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Port 3000 |
| Health Check | ‚úÖ –ü—Ä–æ—à–µ–ª | {"status":"ok"} |
| Session Endpoint | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç web_<uuid> |
| Linting | ‚úÖ –ß–∏—Å—Ç—ã–π | 0 –æ—à–∏–±–æ–∫ |

---

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **PowerShell –∫–∏—Ä–∏–ª–ª–∏—Ü–∞**: –ü—Ä–æ–±–ª–µ–º—ã —Å curl –≤ PowerShell –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä—É—Å—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

2. **Requests –º–æ–¥—É–ª—å**: Python —Å–∫—Ä–∏–ø—Ç `test_chat_api.py` —Ç—Ä–µ–±—É–µ—Ç `requests`, –Ω–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI.

3. **Manual testing**: –û—Å–Ω–æ–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
   - http://localhost:3000 (UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - http://localhost:8000/docs (API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Sprint 4 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é. –°–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

### –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. ‚úÖ –ù–∞–π–¥–∏—Ç–µ floating button (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–∞—Ç (Normal –∏ Admin —Ä–µ–∂–∏–º—ã)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ
5. ‚úÖ –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ - –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

**–í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ! üéâ**

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ.
