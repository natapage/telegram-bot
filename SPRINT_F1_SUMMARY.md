# üéâ –°–ø—Ä–∏–Ω—Ç F1 –ó–∞–≤–µ—Ä—à–µ–Ω - Mock API –¥–ª—è –î–∞—à–±–æ—Ä–¥–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–î–∞—Ç–∞**: 2025-10-17
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
**–ü–ª–∞–Ω**: [mock-api-sprint-f1.plan.md](.cursor/plans/mock-api-sprint-f1-0aca0d14.plan.md)

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–æ–∑–¥–∞–Ω–æ 13 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

#### Backend API (6 —Ñ–∞–π–ª–æ–≤)
```
src/api/
‚îú‚îÄ‚îÄ __init__.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ app.py                   # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å endpoints
‚îú‚îÄ‚îÄ schemas.py               # Data contracts (5 dataclasses)
‚îú‚îÄ‚îÄ stat_collector.py        # Protocol –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + Enum
‚îú‚îÄ‚îÄ mock_stat_collector.py   # Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
src/
‚îî‚îÄ‚îÄ api_main.py              # Entrypoint –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API
```

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (4 —Ñ–∞–π–ª–∞)
```
doc/
‚îú‚îÄ‚îÄ dashboard-requirements.md      # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (7954 bytes)
‚îú‚îÄ‚îÄ api-contract-example.json      # –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä JSON –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
‚îú‚îÄ‚îÄ api-examples.md                # –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (curl/PowerShell/JS)
‚îî‚îÄ‚îÄ sprint-f1-completed.md         # –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–ø—Ä–∏–Ω—Ç–∞
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ 3 —Ñ–∞–π–ª–∞
- `Makefile` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã: run-api, test-api, api-docs
- `frontend/README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è Mock API
- `doc/frontend-roadmap.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å F1 ‚Üí üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- `README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Mock API

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Mock API

```bash
make run-api
```

API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: **http://localhost:8000**

### 2. –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö endpoints
make test-api

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ curl
curl "http://localhost:8000/stats?period=day"
curl "http://localhost:8000/stats?period=week"
curl "http://localhost:8000/stats?period=month"
```

---

## üìã –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏—á–∏

### Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/health` | GET | Health check API |
| `/stats?period={day\|week\|month}` | GET | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–∏–∞–ª–æ–≥–∞–º |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ `/stats`

```json
{
  "overall": {
    "total_dialogs": 52,
    "active_users": 41,
    "avg_dialog_length": 11.5
  },
  "activity_data": [
    {
      "timestamp": "2025-10-17T00:00:00Z",
      "message_count": 45
    }
    // 24 —Ç–æ—á–∫–∏ –¥–ª—è day, 7 –¥–ª—è week, 30 –¥–ª—è month
  ],
  "recent_dialogs": [
    {
      "user_id": 123456789,
      "last_message": "–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–º–æ—â—å!",
      "created_at": "2025-10-17T18:45:23Z",
      "message_count": 15
    }
    // 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤
  ],
  "top_users": [
    {
      "user_id": 987654321,
      "message_count": 95,
      "last_active": "2025-10-17T19:30:00Z"
    }
    // –¢–æ–ø 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  ],
  "period": "day"
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Mock –¥–∞–Ω–Ω—ã—Ö

‚úÖ **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (seed=42)
‚úÖ **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å** - –≥—Ä–∞—Ñ–∏–∫ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ –∏ –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ –ø–µ—Ä–∏–æ–¥ (day/week/month)
‚úÖ **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚úÖ **Type Safety** - –≤—Å–µ dataclasses —Å –ø–æ–ª–Ω—ã–º–∏ type hints

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

- [x] API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `make run-api`
- [x] Endpoint GET /stats –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON
- [x] OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
- [x] Mock –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–µ—Ä–∏–æ–¥–∞–º
- [x] –í—Å–µ dataclasses –∏–º–µ—é—Ç type hints
- [x] –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç `make lint` (ruff ‚úÖ + mypy ‚úÖ)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~500 |
| **Dataclasses** | 5 |
| **Endpoints** | 2 |
| **–î–æ–∫—É–º–µ–Ω—Ç—ã** | 4 –Ω–æ–≤—ã—Ö |
| **Lint –æ—à–∏–±–∫–∏** | 0 |
| **Type errors** | 0 |
| **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | 1 —Å–µ—Å—Å–∏—è |

---

## üéØ –°–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç

**F2: –ö–∞—Ä–∫–∞—Å frontend –ø—Ä–æ–µ–∫—Ç–∞**

–ó–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å `frontend/doc/front-vision.md`
2. –í—ã–±—Ä–∞—Ç—å tech stack (React/Vue/Svelte)
3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å tooling (ESLint, Prettier, TypeScript)
5. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [Dashboard Requirements](doc/dashboard-requirements.md) - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ UI
- [API Examples](doc/api-examples.md) - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [API Contract](doc/api-contract-example.json) - JSON –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- [Sprint Completed](doc/sprint-f1-completed.md) - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç

**Roadmap:**
- [Frontend Roadmap](doc/frontend-roadmap.md) - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **FastAPI** 0.119.0 - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π web framework
- **Uvicorn** 0.37.0 - ASGI —Å–µ—Ä–≤–µ—Ä
- **Python** 3.11+ - —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π type hints
- **Dataclasses** - –¥–ª—è type-safe —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö
- **Protocol** - –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

---

## üí° –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **FastAPI** - –≤—ã–±—Ä–∞–Ω –∑–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ async –ø–æ–¥–¥–µ—Ä–∂–∫—É
2. **Dataclasses** - –¥–ª—è —á–µ—Ç–∫–∏—Ö type-safe –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
3. **Protocol** - –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ –∑–∞–º–µ–Ω—ã Mock ‚Üí Real —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
4. **Seed=42** - –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - —É—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ –∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏

---

**Mock API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ frontend –¥–∞—à–±–æ—Ä–¥–∞! üöÄ**

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞: `make run-api`
